# AI-система обработки технических заявок

Автоматизация обработки заявок на изготовление продукции. Заявки приходят в разных форматах, требуется извлекать технические параметры и составлять техническую аббревиатуру продукции.

## Технологии

- **Frontend/Backend**: SvelteKit
- **Язык**: TypeScript
- **Валидация**: Zod
- **AI**: LangChain.js (настраивается)

## Установка

```bash
npm install
```

## Разработка

```bash
npm run dev
```

Откройте [http://localhost:5173](http://localhost:5173) в браузере.

## Сборка

```bash
npm run build
```

## Проверка кода

```bash
npm run check      # Проверка типов TypeScript
npm run lint       # Проверка ESLint
npm run format     # Форматирование кода Prettier
```

## Структура проекта

```
src/
  lib/
    business/      # Бизнес-логика (чистые функции)
    storage/       # Модуль хранилища данных
    components/    # UI компоненты
    config.ts      # Конфигурация приложения
  routes/
    api/          # REST API эндпоинты
    +page.svelte  # Главная страница
data/
  tu/             # JSON файлы с техническими условиями (ТУ)
  db/             # База данных SQLite
  uploads/        # Загруженные файлы заявок
```

## Документация

- **[src/lib/storage/STORAGE.md](src/lib/storage/STORAGE.md)** - Документация модуля хранилища данных (БД, файлы, ТУ)
- **[src/lib/business/BUSINESS.md](src/lib/business/BUSINESS.md)** - Документация модуля бизнес-логики
- **[src/lib/components/COMPONENTS.MD](src/lib/components/COMPONENTS.MD)** - Документация UI компонентов
- **[PROJECT.md](PROJECT.md)** - Общее описание проекта и архитектура

## Конфигурация

Переменные окружения для клиентской части должны иметь префикс `VITE_`:

- `VITE_MAX_FILE_SIZE_MB=10`
- `VITE_MAX_TEXT_LENGTH_FOR_LLM=6000`

Серверные переменные (API ключи для LLM/OCR) указываются без префикса.

## Статус проекта

✅ Этап 1: Инициализация проекта - завершен

- SvelteKit проект создан и настроен
- Структура папок создана
- ESLint и Prettier настроены
- Zod установлен
- Базовая конфигурация создана

✅ Этап 2: Реализация хранилища данных - завершен

- SQLite база данных для метаданных заявок
- Файловое хранилище для исходных файлов заявок
- Управление техническими условиями (ТУ)
- Полный CRUD API для работы с заявками
- Валидация данных через Zod
- Обработка ошибок

✅ Этап 3: Реализация базового веб-интерфейса - завершен

- Двухпанельный layout (левая панель со списком заявок, правое окно с деталями)
- Компонент загрузки файлов с drag-n-drop и валидацией
- Список заявок с сортировкой по дате и отображением статуса
- Детальное отображение заявки с результатами обработки
- Выбор технических условий и обработка заявок
- API клиент для работы с REST API
- Адаптивный дизайн для мобильных устройств
- Обработка ошибок и пустых состояний
